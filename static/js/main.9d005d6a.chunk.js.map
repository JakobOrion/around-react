{"version":3,"sources":["images/around_us_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","utils/useEscKeyPress.js","utils/api.js","components/FormValidator.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","logo","className","src","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onDeleteClick","user","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","aria-label","onClick","hidden","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","buttonText","isValid","isLoading","onSubmit","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","aria-required","required","aria-live","EditAvatarPopup","onUpdateAvatar","userAvatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","DeletePlacePopup","onConfirmDelete","useEscKeyPress","targetKey","isEscKeyPressed","setIsEscKeyPressed","downHandler","event","which","window","addEventListener","removeEventListener","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","catch","err","console","log","all","getUserInfo","getCardList","method","body","JSON","stringify","cardID","addLike","removeLike","authorization","FormValidator","settings","formElement","_inputSelector","inputSelector","_submitButtonSelector","submitButtonSelector","_inactiveButtonClass","inactiveButtonClass","_inputErrorClass","inputErrorClass","_errorClass","errorClass","_form","input","error","nextElementSibling","textContent","validationMessage","classList","add","remove","validity","valid","_hideErrorMessage","_showErrorMessage","inputs","button","every","removeAttribute","setAttribute","Array","from","querySelectorAll","querySelector","forEach","_checkInputValidity","_toggleButtonState","_setEventListeners","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setIsLoading","selectedCard","setSelectedCard","currentUser","setCurrentUser","cardList","setCardList","isEscapePress","defaultConfig","formSelector","handleClosePopups","contains","closest","closeAllPopups","document","form","enableValidation","getAppInfo","userInfo","Provider","headerLogo","changeLikeCardStatus","newCard","newCards","c","setProfilePicture","finally","setUserInfo","addCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d005d6a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/around_us_logo.4e8e0a1d.svg\";","function Header(props) {\n  const { logo } = props;\n\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Around the U.S. logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const { card, onCardClick, onCardLike, onDeleteClick } = props;\n  const user = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === user._id;\n  const isLiked = card.likes.some(i => i._id === user._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onDeleteClick(card);\n  }\n\n  return (\n    <li className=\"photo-card\">\n      <button\n        type=\"button\"\n        aria-label=\"Delete\"\n        className=\"photo-card__delete-button\"\n        onClick={handleDeleteClick}\n        hidden={!isOwn}\n      ></button>\n      <img\n        className=\"photo-card__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"photo-card__info\">\n        <h2 className=\"photo-card__title\">{card.name}</h2>\n        <button\n          type=\"button\"\n          aria-label=\"Like\"\n          className={`photo-card__heart ${isLiked && 'photo-card__heart_active'}`}\n          onClick={handleLikeClick}\n        ></button>\n        <div className=\"photo-card__likes\">{card.likes.length}</div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const user = useContext(CurrentUserContext);\n  const { onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onDeleteClick } = props;\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={user.avatar} alt={user.name} />\n          <button\n            type=\"button\"\n            aria-label=\"Edit Profile Picture\"\n            className=\"profile__avatar-edit\"\n            onClick={onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name-text\">{user.name}</h1>\n          </div>\n          <button\n            type=\"button\"\n            aria-label=\"Edit Profile\"\n            className=\"profile__edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{user.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Add Photo Card\"\n          className=\"profile__add\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"photo-cards\">\n        <ul className=\"photo-cards__group\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onDeleteClick={onDeleteClick}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">Â© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  const { card, isOpen, onClose } = props;\n\n  return (\n    <div className={`popup popup_type_image ${isOpen && 'popup_opened'}`} onClick={onClose}>\n      <div className=\"popup__container popup__container_figure\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close\"\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={card && card.link}\n            alt={card.name}\n          />\n          <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import { useState } from 'react';\n\nfunction PopupWithForm(props) {\n  const { name, title, children, buttonText, isOpen, isValid, isLoading, onClose, onSubmit } = props;\n\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} onClick={onClose}>\n      <div className=\"popup__container\">\n        <h3 className=\"popup__title\">{title}</h3>\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close\"\n        ></button>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          {children}\n          <button type=\"submit\" name={buttonText} className={`form__submit ${!isValid && 'form__submit_disabled'}`} disabled={!isValid ? true : '' }>\n            {isLoading ? 'Saving...' : buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const { isOpen, isLoading, onClose, onUpdateUser } = props;\n  const user = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [isValid, setIsValid] = useState(true);\n\n\n  useEffect(() => {\n    setName(user.name);\n    setDescription(user.about);\n  }, [user]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleProfileSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name, \n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit profile\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      isValid={isValid}\n      isLoading={isLoading}\n      onClose={onClose}\n      onSubmit={handleProfileSubmit}\n    >\n      <input\n        aria-label=\"Name\"\n        type=\"text\"\n        className=\"form__input form__input_type_name\"\n        name=\"name\"\n        value={name || ''}\n        onChange={handleNameChange}\n        placeholder=\"Name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        aria-required=\"true\"\n        required\n      />\n      <span className=\"form__error\" aria-live=\"polite\"></span>\n\n      <input\n        aria-label=\"About me\"\n        type=\"text\"\n        className=\"form__input form__input_type_description\"\n        name=\"about\"\n        value={description || ''}\n        onChange={handleDescriptionChange}\n        placeholder=\"About me\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        aria-required=\"true\"\n        required\n      />\n      <span className=\"form__error\" aria-live=\"polite\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useRef, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const { isOpen, isLoading, onClose, onUpdateAvatar } = props;\n  const userAvatarRef = useRef();\n  const [isValid, setIsValid] = useState(false);\n\n  function handleAvatarSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(userAvatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change profile picture\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      isValid={isValid}\n      isLoading={isLoading}\n      onClose={onClose}\n      onSubmit={handleAvatarSubmit}\n      onUpdateAvatar={onUpdateAvatar}\n    >\n      <input\n        ref={userAvatarRef}\n        aria-label=\"Image URL\"\n        type=\"url\"\n        className=\"form__input form__input_type_url\"\n        name=\"avatar\"\n        placeholder=\"Image link\"\n        aria-required=\"true\"\n        required\n      />\n      <span className=\"form__error\" aria-live=\"polite\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const { isOpen, isLoading, onClose, onAddPlace } = props;\n  const [placeName, setPlaceName] = useState('');\n  const [placeLink, setPlaceLink] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  function handlePlaceNameChange(e) {\n    setPlaceName(e.target.value);\n  }\n\n  function handlePlaceLinkChange(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: placeName,\n      link: placeLink,\n    });\n  }\n\n  return (\n    <PopupWithForm\n    name=\"add-card\"\n    title=\"New place\"\n    buttonText=\"Create\"\n    isOpen={isOpen}\n    isValid={isValid}\n    isLoading={isLoading}\n    onClose={onClose}\n    onSubmit={handleAddPlaceSubmit}\n    onAddPlace={onAddPlace}\n    >\n    <input\n\n      aria-label=\"Title\"\n      type=\"text\"\n      className=\"form__input form__input_type_card-title\"\n      name=\"name\"\n      value={placeName || ''}\n      onChange={handlePlaceNameChange}\n      placeholder=\"Title\"\n      minLength=\"1\"\n      maxLength=\"30\"\n      aria-required=\"true\"\n      required\n    />\n    <span className=\"form__error\" aria-live=\"polite\"></span>\n\n    <input\n      aria-label=\"Image URL\"\n      type=\"url\"\n      className=\"form__input form__input_type_url\"\n      name=\"link\"\n      value={placeLink || ''}\n      onChange={handlePlaceLinkChange}\n      placeholder=\"Image link\"\n      aria-required=\"true\"\n      required\n    />\n    <span className=\"form__error\" aria-live=\"polite\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePlacePopup(props) {\n  const { card, isOpen, isLoading, onClose, onConfirmDelete } = props;\n  const [isValid, setIsValid] = useState(true);\n\n  function handleConfirmSubmit(e) {\n    e.preventDefault();\n    onConfirmDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n    name=\"delete-card\"\n    title=\"Are you sure?\"\n    buttonText=\"Yes\"\n    isOpen={isOpen}\n    isValid={isValid}\n    isLoading={isLoading}\n    onClose={onClose}\n    onSubmit={handleConfirmSubmit}\n    />\n  )\n}\n\nexport default DeletePlacePopup;","import { useState, useEffect } from 'react';\n\nfunction useEscKeyPress(targetKey) {\n  const [isEscKeyPressed, setIsEscKeyPressed] = useState(false);\n\n  if(isEscKeyPressed) {\n    setIsEscKeyPressed(false);\n  }\n\n  useEffect(() => {\n    function downHandler(event) {\n      if (event.which === targetKey) {\n        setIsEscKeyPressed(true);\n      }\n    }\n    window.addEventListener('keydown', downHandler);\n    return () => {\n      window.removeEventListener('keydown', downHandler);\n    };\n  }, [targetKey]);\n\n  return isEscKeyPressed;\n}\n\nexport default useEscKeyPress;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // load user info from server\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // load cards from server\n  getCardList() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  //Wait for the getCardList and getUserInfo before rendering\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getCardList()]);\n  }\n\n  // edit profile\n  setUserInfo({ name, about }) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // add new card\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // delete a card\n  removeCard(cardID) {\n    return fetch(this._baseUrl + '/cards/' + cardID, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // add like\n  addLike(cardID) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // remove like\n  removeLike(cardID) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  changeLikeCardStatus(cardID, isLiked) {\n    return (isLiked ? this.addLike(cardID) : this.removeLike(cardID));\n  }\n\n  // update profile pic\n  setProfilePicture(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n}\n\n// API instance\nexport const api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-7',\n  headers: {\n    authorization: '7c54637c-526f-4047-8439-3339585d598e',\n    'Content-Type': 'application/json',\n  },\n});\n","class FormValidator {\n  constructor(settings, formElement) {\n    this._inputSelector = settings.inputSelector;\n    this._submitButtonSelector = settings.submitButtonSelector;\n    this._inactiveButtonClass = settings.inactiveButtonClass;\n    this._inputErrorClass = settings.inputErrorClass;\n    this._errorClass = settings.errorClass;\n    this._form = formElement;\n  }\n\n  _showErrorMessage(input) {\n    const error = input.nextElementSibling;\n      error.textContent = input.validationMessage;\n\n      error.classList.add(this._errorClass);\n      input.classList.add(this._inputErrorClass);\n  }\n\n  _hideErrorMessage(input) {\n    const error = input.nextElementSibling;\n      error.textContent = '';\n\n      error.classList.remove(this._errorClass);\n      input.classList.remove(this._inputErrorClass);\n  }\n\n  _checkInputValidity(input) {\n    if (input.validity.valid) {\n      this._hideErrorMessage(input);\n    } else {\n      this._showErrorMessage(input, input.validationMessage);\n    }\n  }\n\n  _toggleButtonState(inputs, button) {\n    const isValid = inputs.every((input) => input.validity.valid);\n    if (isValid) {\n      button.classList.remove(this._inactiveButtonClass);\n      button.removeAttribute(\"disabled\");\n    } else {\n      button.classList.add(this._inactiveButtonClass);\n      button.setAttribute(\"disabled\", \" \");\n    }\n  }\n\n  _setEventListeners() {\n    const inputs = Array.from(this._form.querySelectorAll(this._inputSelector));\n    const button = this._form.querySelector(this._submitButtonSelector);\n\n    inputs.forEach((input) => {\n      input.addEventListener('input', () => {\n        this._checkInputValidity(input);\n        this._toggleButtonState(inputs, button);\n      });\n    });\n  }\n\n  enableValidation() {\n    this._form.addEventListener('submit', (e) => {\n      e.preventDefault();\n    });\n\n    this._setEventListeners();\n  }\n}\n\nexport default FormValidator;\n\n","import { useEffect, useState } from 'react';\nimport headerLogo from '../images/around_us_logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\nimport useEscKeyPress from '../utils/useEscKeyPress';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport FormValidator from './FormValidator';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedCard, setSelectedCard] = useState('');\n  const [currentUser, setCurrentUser] = useState('');\n  const [cardList, setCardList] = useState([]);\n  const isEscapePress = useEscKeyPress(27);\n  \n  // Form Validation \n  const defaultConfig = {\n    formSelector: '.popup__form',\n    inputSelector: '.form__input',\n    submitButtonSelector: '.form__submit',\n    inactiveButtonClass: 'form__submit_disabled',\n    inputErrorClass: 'form__input_type_error',\n    errorClass: 'form__error_visible'\n  };\n\n  const allForms = [...document.querySelectorAll('.popup__form')];\n  \n  allForms.forEach((form) => {\n    const formValidator = new FormValidator(defaultConfig, form);\n    formValidator.enableValidation();\n  });\n  /////////////////////////\n\n  useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCardList(cardList);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleDeleteClick(card) {\n    setSelectedCard(card);\n    setIsDeletePlacePopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cardList.map((c) =>\n          c._id === card._id ? newCard : c\n        );\n        setCardList(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleDeletePlace(card) {\n    setIsLoading(true);\n\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const newCards = cardList.filter(c => c._id !== card._id);\n        setCardList(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n    \n    api\n      .setUserInfo({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    \n    api\n      .setProfilePicture(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleAddNewPlace({ name, link }) {\n    setIsLoading(true);\n    \n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCardList([newCard, ...cardList]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleClosePopups(e) {\n    if(e.target.classList.contains('popup__close') || !e.target.closest('.popup__container'))\n    closeAllPopups();\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsLoading(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        {isEscapePress && closeAllPopups()}\n        <div className=\"page__container\">\n          <Header logo={headerLogo} />\n\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            cards={cardList}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n          />\n\n          <Footer />\n        </div>\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen}\n          isLoading={isLoading} \n          onClose={handleClosePopups}\n          onUpdateAvatar={handleUpdateAvatar} \n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isLoading={isLoading} \n          onClose={handleClosePopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onAddPlace={handleAddNewPlace}\n        />\n\n        <DeletePlacePopup\n          card={selectedCard}\n          isOpen={isDeletePlacePopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onConfirmDelete={handleDeletePlace}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={handleClosePopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}