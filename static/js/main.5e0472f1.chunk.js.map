{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","images/around_us_logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","hooks/useKey.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","catch","err","console","log","all","getUserInfo","getCardList","name","about","method","body","JSON","stringify","link","cardID","isLiked","addLike","removeLike","avatar","authorization","Header","props","logo","className","src","alt","Card","card","onCardClick","onCardLike","onDeleteClick","user","useContext","isOwn","owner","_id","likes","some","i","type","aria-label","onClick","hidden","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","buttonText","isValid","isLoading","onSubmit","disabled","EditProfilePopup","onUpdateUser","useState","inputs","setInputs","isError","setIsError","setIsValid","handlePaste","e","target","value","clipboardData","getData","handleChange","validationMessage","useEffect","preventDefault","onChange","onPaste","placeholder","minLength","maxLength","aria-required","required","aria-live","EditAvatarPopup","onUpdateAvatar","userAvatarRef","useRef","current","ref","AddPlacePopup","DeletePlacePopup","onConfirmDelete","useKey","key","keyPressed","setKeyPressed","match","toLowerCase","onDown","onUp","window","addEventListener","removeEventListener","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setIsLoading","selectedCard","setSelectedCard","currentUser","setCurrentUser","cardList","setCardList","isEscapePress","handleClosePopups","classList","contains","closest","closeAllPopups","getAppInfo","userInfo","Provider","headerLogo","changeLikeCardStatus","newCard","newCards","c","setProfilePicture","finally","setUserInfo","addCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e0472f1.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // load user info from server\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // load cards from server\n  getCardList() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  //Wait for the getCardList and getUserInfo before rendering\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getCardList()]);\n  }\n\n  // edit profile\n  setUserInfo({ name, about }) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // add new card\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // delete a card\n  removeCard(cardID) {\n    return fetch(this._baseUrl + '/cards/' + cardID, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // add like\n  addLike(cardID) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  // remove like\n  removeLike(cardID) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n\n  changeLikeCardStatus(cardID, isLiked) {\n    return (isLiked ? this.addLike(cardID) : this.removeLike(cardID));\n  }\n\n  // update profile pic\n  setProfilePicture(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then((res) =>\n        res.ok ? res.json() : Promise.reject('Error!' + res.statusText)\n      )\n      .catch((err) => console.log(err));\n  }\n}\n\n// API instance\nexport const api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-7',\n  headers: {\n    authorization: '7c54637c-526f-4047-8439-3339585d598e',\n    'Content-Type': 'application/json',\n  },\n});\n","export default __webpack_public_path__ + \"static/media/around_us_logo.4e8e0a1d.svg\";","function Header(props) {\n  const { logo } = props;\n\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Around the U.S. logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const { card, onCardClick, onCardLike, onDeleteClick } = props;\n  const user = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === user._id;\n  const isLiked = card.likes.some(i => i._id === user._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onDeleteClick(card);\n  }\n\n  return (\n    <li className=\"photo-card\">\n      <button\n        type=\"button\"\n        aria-label=\"Delete\"\n        className=\"photo-card__delete-button\"\n        onClick={handleDeleteClick}\n        hidden={!isOwn}\n      ></button>\n      <img\n        className=\"photo-card__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"photo-card__info\">\n        <h2 className=\"photo-card__title\">{card.name}</h2>\n        <button\n          type=\"button\"\n          aria-label=\"Like\"\n          className={`photo-card__heart ${isLiked && 'photo-card__heart_active'}`}\n          onClick={handleLikeClick}\n        ></button>\n        <div className=\"photo-card__likes\">{card.likes.length}</div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const user = useContext(CurrentUserContext);\n  const { onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onDeleteClick } = props;\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={user.avatar} alt={user.name} />\n          <button\n            type=\"button\"\n            aria-label=\"Edit Profile Picture\"\n            className=\"profile__avatar-edit\"\n            onClick={onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name-text\">{user.name}</h1>\n          </div>\n          <button\n            type=\"button\"\n            aria-label=\"Edit Profile\"\n            className=\"profile__edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{user.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Add Photo Card\"\n          className=\"profile__add\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"photo-cards\">\n        <ul className=\"photo-cards__group\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onDeleteClick={onDeleteClick}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  const { card, isOpen, onClose } = props;\n\n  return (\n    <div className={`popup popup_type_image ${isOpen && 'popup_opened'}`} onClick={onClose}>\n      <div className=\"popup__container popup__container_figure\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close\"\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={card && card.link}\n            alt={card.name}\n          />\n          <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm(props) {\n  const { name, title, children, buttonText, isOpen, isValid, isLoading, onClose, onSubmit } = props;\n\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} onClick={onClose}>\n      <div className=\"popup__container\">\n        <h3 className=\"popup__title\">{title}</h3>\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close\"\n        ></button>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          {children}\n          <button type=\"submit\" name={buttonText} className={`form__submit ${!isValid && 'form__submit_disabled'}`} disabled={!isValid ? true : '' }>\n            {isLoading ? 'Saving...' : buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const { isOpen, isLoading, onClose, onUpdateUser } = props;\n  const user = useContext(CurrentUserContext);\n  const [inputs, setInputs] = useState({});\n  const [isError, setIsError] = useState({});\n  const [isValid, setIsValid] = useState(true);\n\n\n  useEffect(() => {\n    setInputs({name: user.name, about: user.about});\n  }, [user]);\n\n\n  function checkIsFormValid() {\n    if (isError.name !== '' || isError.about !== ''|| inputs.name == '' || inputs.about == '') {\n      setIsValid(false);\n    } else {\n      setIsValid(true);\n    }\n  }\n\n  function handlePaste(e) {\n    e.target.value = e.clipboardData.getData('text/plain');\n    handleChange(e);\n  }\n\n\n  function handleChange(e) {\n    setInputs({...inputs, [e.target.name]: e.target.value});\n    setIsError({...isError, [e.target.name]: e.target.validationMessage});\n    checkIsFormValid();\n  }\n\n  function handleProfileSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: inputs.name, \n      about: inputs.about,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit profile\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      isValid={isValid}\n      isLoading={isLoading}\n      onClose={onClose}\n      onSubmit={handleProfileSubmit}\n    >\n      <input\n        aria-label=\"Name\"\n        type=\"text\"\n        className={`form__input form__input_type_name ${isError.name && 'form__input_type_error'}`}\n        name=\"name\"\n        value={inputs.name || ''}\n        onChange={handleChange}\n        onPaste={handlePaste}\n        placeholder=\"Name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        aria-required=\"true\"\n        required\n      />\n      <span className={`form__error ${isError.name && 'form__error_visible'}`} aria-live=\"polite\">{isError.name}</span>\n\n      <input\n        aria-label=\"About me\"\n        type=\"text\"\n        className={`form__input form__input_type_description ${isError.about && 'form__input_type_error'}`}\n        name=\"about\"\n        value={inputs.about || ''}\n        onChange={handleChange}\n        onPaste={handlePaste}\n        placeholder=\"About me\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        aria-required=\"true\"\n        required\n      />\n      <span className={`form__error ${isError.about && 'form__error_visible'}`} aria-live=\"polite\">{isError.about}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useRef, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const { isOpen, isLoading, onClose, onUpdateAvatar } = props;\n  const userAvatarRef = useRef();\n  const [isError, setIsError] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  function checkIsFormValid() {\n    if (isError.avatar !== '' || userAvatarRef.current.value == '') {\n      setIsValid(false);\n    } else {\n      setIsValid(true);\n    }\n  }\n\n  function handlePaste(e) {\n    userAvatarRef.current.value = e.clipboardData.getData('text/plain');\n    handleChange(e);\n  }\n\n  function handleChange(e) {\n    setIsError({...isError, [e.target.name]: e.target.validationMessage});\n    checkIsFormValid();\n  }\n\n  function handleAvatarSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(userAvatarRef.current.value);\n    userAvatarRef.current.value = '';\n    setIsError({});\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change profile picture\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      isValid={isValid}\n      isLoading={isLoading}\n      onClose={onClose}\n      onSubmit={handleAvatarSubmit}\n      onUpdateAvatar={onUpdateAvatar}\n    >\n      <input\n        ref={userAvatarRef}\n        aria-label=\"Image URL\"\n        type=\"url\"\n        className={`form__input form__input_type_url ${isError.avatar && 'form__input_type_error'}`}\n        name=\"avatar\"\n        onChange={handleChange}\n        onPaste={handlePaste}\n        placeholder=\"Image link\"\n        aria-required=\"true\"\n        required\n      />\n      <span className={`form__error ${isError.avatar && 'form__error_visible'}`} aria-live=\"polite\">{isError.avatar}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const { isOpen, isLoading, onClose, onAddPlace } = props;\n  const [inputs, setInputs] = useState({});\n  const [isError, setIsError] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  function checkIsFormValid() {\n    if (isError.name !== '' || isError.link !== ''|| inputs.name == '' || inputs.link == '') {\n      setIsValid(false);\n    } else {\n      setIsValid(true);\n    }\n  }\n\n  function handlePaste(e) {\n    e.target.value = e.clipboardData.getData('text/plain');\n    handleChange(e);\n  }\n\n  function handleChange(e) {\n    setInputs({...inputs, [e.target.name]: e.target.value});\n    setIsError({...isError, [e.target.name]: e.target.validationMessage});\n    checkIsFormValid();\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: inputs.name,\n      link: inputs.link,\n    });\n    setInputs({});\n    setIsError({});\n  }\n\n  return (\n    <PopupWithForm\n    name=\"add-card\"\n    title=\"New place\"\n    buttonText=\"Create\"\n    isOpen={isOpen}\n    isValid={isValid}\n    isLoading={isLoading}\n    onClose={onClose}\n    onSubmit={handleAddPlaceSubmit}\n    onAddPlace={onAddPlace}\n    >\n    <input\n      aria-label=\"Title\"\n      type=\"text\"\n      className={`form__input form__input_type_card-title ${isError.name && 'form__input_type_error'}`}\n      name=\"name\"\n      value={inputs.name || ''}\n      onChange={handleChange}\n      onPaste={handlePaste}\n      placeholder=\"Title\"\n      minLength=\"1\"\n      maxLength=\"30\"\n      aria-required=\"true\"\n      required\n    />\n    <span className={`form__error ${isError.name && 'form__error_visible'}`} aria-live=\"polite\">{isError.name}</span>\n\n    <input\n      aria-label=\"Image URL\"\n      type=\"url\"\n      className={`form__input form__input_type_url ${isError.link && 'form__input_type_error'}`}\n      name=\"link\"\n      value={inputs.link || ''}\n      onChange={handleChange}\n      onPaste={handlePaste}\n      placeholder=\"Image link\"\n      aria-required=\"true\"\n      required\n    />\n    <span className={`form__error ${isError.link && 'form__error_visible'}`} aria-live=\"polite\">{isError.link}</span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePlacePopup(props) {\n  const { card, isOpen, isLoading, onClose, onConfirmDelete } = props;\n  const [isValid, setIsValid] = useState(true);\n\n  function handleConfirmSubmit(e) {\n    e.preventDefault();\n    onConfirmDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n    name=\"delete-card\"\n    title=\"Are you sure?\"\n    buttonText=\"Yes\"\n    isOpen={isOpen}\n    isValid={isValid}\n    isLoading={isLoading}\n    onClose={onClose}\n    onSubmit={handleConfirmSubmit}\n    />\n  )\n}\n\nexport default DeletePlacePopup;","import { useState, useEffect } from 'react';\n\nfunction useKey(key) {\n  const [keyPressed, setKeyPressed] = useState(false);\n\n  const match = (e) => key.toLowerCase() == e.key.toLowerCase();\n\n  const onDown = (e) => {\n    if (match(e)) setKeyPressed(true);\n  };\n  const onUp = (e) => {\n    if (match(e)) setKeyPressed(false);\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', onDown);\n    window.addEventListener('keyup', onUp);\n    return () => {\n      window.removeEventListener('keydown', onDown);\n      window.removeEventListener('keyup', onUp);\n    };\n  }, [key]);\n\n  return keyPressed;\n}\n\nexport default useKey;\n","import { useEffect, useState } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/api';\nimport headerLogo from '../images/around_us_logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\nimport useKey from '../hooks/useKey';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardList, setCardList] = useState([]);\n  const isEscapePress = useKey('Escape');\n\n  useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCardList(cardList);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    closeAllPopups();\n  }, [isEscapePress]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleDeleteClick(card) {\n    setSelectedCard(card);\n    setIsDeletePlacePopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cardList.map((c) =>\n          c._id === card._id ? newCard : c\n        );\n        setCardList(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleDeletePlace(card) {\n    setIsLoading(true);\n\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const newCards = cardList.filter((c) => c._id !== card._id);\n        setCardList(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n\n    api\n      .setUserInfo({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n\n    api\n      .setProfilePicture(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleAddNewPlace({ name, link }) {\n    setIsLoading(true);\n\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCardList([newCard, ...cardList]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleClosePopups(e) {\n    if (\n      e.target.classList.contains('popup__close') ||\n      !e.target.closest('.popup__container')\n    )\n      closeAllPopups();\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsLoading(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header logo={headerLogo} />\n\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            cards={cardList}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n          />\n\n          <Footer />\n        </div>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onAddPlace={handleAddNewPlace}\n        />\n\n        <DeletePlacePopup\n          card={selectedCard}\n          isOpen={isDeletePlacePopupOpen}\n          isLoading={isLoading}\n          onClose={handleClosePopups}\n          onConfirmDelete={handleDeletePlace}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={handleClosePopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}